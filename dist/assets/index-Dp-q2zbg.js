(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();function y(){return`
    <img data-uploaded-avatar-img src="" alt="Uploaded avatar" class="w-[3.125rem] h-[3.125rem] rounded-xl border border-neutral-500">
    <div class="flex gap-2">
      <button type="button" data-remove-btn class="cursor-pointer rounded-sm bg-white/10 px-2 py-1 text-xs underline">Remove image</button>
      <button type="button" data-change-btn class="cursor-pointer rounded-sm bg-white/10 px-2 py-1 text-xs">Change image</button>
    </div>
  `}function u(){return`
    <img class="p-2.5 w-[3.125rem] h-[3.125rem] rounded-xl bg-white/10 border border-neutral-700"
      src="./src/images/icon-upload.svg" alt="upload icon">
    <p class="text-lg text-neutral-300">Drag and drop or click to upload</p>
  `}const l=document.querySelector("#upload-avatar"),c=document.querySelector("[data-upload-preview]"),o=document.querySelector("#file-input-help");function L(){l.addEventListener("change",e=>{const r=e.target.files[0];f(r)}),c.addEventListener("click",e=>{c.querySelector("[data-uploaded-avatar-img]")&&e.target.matches("[data-remove-btn]")&&e.target.matches("[data-change-btn]")&&e.preventDefault(),e.target.matches("[data-remove-btn]")?(l.value="",f(null),l.focus()):e.target.matches("[data-change-btn]")&&l.click()})}function f(e){if(!e){c.innerHTML=u(),o.classList.remove("text-orange-500"),o.querySelector("img").classList.remove("error-info-icon-filter"),o.querySelector("span").innerHTML="Upload your photo (JPG or PNG, max size: 500KB).";return}const r=500*1024;if(!["image/jpeg","image/png"].includes(e.type)){c.innerHTML=u(),l.value="",o.classList.add("text-orange-500"),o.querySelector("img").classList.add("error-info-icon-filter"),o.querySelector("span").innerHTML="Please upload a JPG or PNG image.";return}if(e.size>r){c.innerHTML=u(),l.value="",o.classList.add("text-orange-500"),o.querySelector("img").classList.add("error-info-icon-filter"),o.querySelector("span").innerHTML="File too large. Please upload a photo under 500KB.";return}c.innerHTML=y();const a=c.querySelector("[data-uploaded-avatar-img]"),t=new FileReader;t.onload=()=>{a.src=t.result,o.classList.remove("text-orange-500"),o.querySelector("img").classList.remove("error-info-icon-filter"),o.querySelector("span").innerHTML="Upload your photo (JPG or PNG, max size: 500KB)."},t.readAsDataURL(e)}const h=document.querySelector("[data-ticket-full-name]"),b=document.querySelector("[data-ticket-gitUsername]"),S=document.querySelector("[data-ticket-number]"),q=document.querySelector("[data-ticket-article]"),P=document.querySelector("[data-ticket-email]"),T=document.querySelector("[data-ticket-avatar]"),M=document.querySelector("[data-form-article]"),x=document.querySelector("[data-ticket-firstName]"),H=document.querySelector("[data-ticket-lastName]");function N(e){h.innerHTML=e.get("fullName"),b.innerHTML=e.get("gitUsername"),P.innerHTML=e.get("email"),T.setAttribute("src",document.querySelector("[data-uploaded-avatar-img]").src);const r=e.get("fullName").split(" ");x.innerHTML=r.shift(),H.innerHTML=r.join(" ")+"!",S.innerHTML=w(),M.classList.add("hidden"),q.classList.remove("hidden")}function w(){const r=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"];let i="#";for(let a=0;a<5;a++){const t=Math.floor(Math.random()*r.length);i+=r[t]}return i}const m=document.forms[0];function k(){m.reset(),m.addEventListener("submit",e=>{e.preventDefault();const r=new FormData(m);N(r)})}const s=document.querySelector("#email"),g=s.nextElementSibling,v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function E(){s.addEventListener("blur",()=>{v.test(s.value)||(g.classList.remove("hidden"),s.classList.add("border-orange-500"))}),s.addEventListener("input",()=>{v.test(s.value)&&(g.classList.add("hidden"),s.classList.remove("border-orange-500"))})}const p=document.querySelector("[data-upload-preview]"),A=document.querySelector("#upload-avatar");function F(){p.addEventListener("dragenter",e,!1),p.addEventListener("dragover",r,!1),p.addEventListener("drop",i,!1);function e(a){a.stopPropagation(),a.preventDefault()}function r(a){a.stopPropagation(),a.preventDefault()}function i(a){a.stopPropagation(),a.preventDefault();const n=a.dataTransfer.files;A.files=n,f(n[0])}}L();F();E();k();
